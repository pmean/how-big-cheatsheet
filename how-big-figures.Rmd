---
title: "How-Big-Cheatsheet"
author: "Steve Simon"
date: "September 17, 2016"
output: html_document
---

The first figure illustrates the margins. Start with the assumption that the graph is seven inches by seven inches and that mar=c(5.1, 4.1, 4.1, 2.1) and mai=c(1.02, 0.82, 0.82, 0.42)
which means 5 lines per inch. Also assume that there are 96 pixels per inch.

```{r margins, fig.width=5.25, fig.height=5.25}
dev.size()
dev.size(units="px")/dev.size()
par("mar")
par("mai")
par("mar")/par("mai")
par("plt")
par("pin")
# test plot
plot(0:1, 0:1, type="n", axes=FALSE, xlab="x", ylab="y")
axis(side=1)
axis(side=2)
title("title")
par(mar=rep(0, 4), xaxs="i", yaxs="i")
plot((-3):7, 0.5+((-2):8), type="n", axes=FALSE)

x <- c(
  0,
  0+0.41,
  0+0.82,
  0+0.82+0.04*(7-0.82-0.42),
  0+0.82+0.50*(7-0.82-0.42),
  7-0.42-0.04*(7-0.82-0.42),
  7-0.42,
  7-0.21,
  7)
y <- c(
  0,
  0+0.51,
  0+1.02,
  0+1.02+0.04*(7-1.02-0.84),
  0+1.02+0.50*(7-1.02-0.84),
  7-0.82-0.04*(7-1.02-0.82),
  7-0.82,
  7-0.41,
  7)

axis(side=1, pos=1.02, at=x[c(4,6)], labels=0:1) 
axis(side=2, pos=0.82, at=y[c(4,6)], labels=0:1) 

polygon(
  x=x[c(3, 7, 7 ,3)],
  y=y[c(3, 3, 7, 7)],
  density=NA, col="gray90", border=NA)

polygon(
  x=x[c(4, 6, 6 ,4)],
  y=y[c(4, 4, 6, 6)],
  density=NA, col="gray90", border="black", lty="dotted")

text(x[5], y[7]+0.2*3,"Title location: mgp[1] (lines)")
w <- 2*strwidth(" Title ", units="inches")
arrows(
  x[5]-w/2,     y[7]+0.2*3,
  x[5]-w/2-0.3, y[7]+0.2*3+0.9, length=0.05, code=1)
text(
  x[5]-w/2-0.3, y[7]+0.2*3+0.9, "mgp[1]=3 lines ", adj=1, cex=1.0)

arrows(
  x[3],     y[1],
  x[3],     y[3], length=0.05, code=3)
segments(
  x[3],     y[2],
  x[3]-0.5, y[2]-1.5, length=0.05)
text(
  x[3]-0.5, y[2]-1.5, 
  "mar[1]=5.2 lines \nmai[1]=1.02 inches ", adj=1, cex=1.0)

arrows(
  x[7],     y[7],
  x[7],     y[9], length=0.05, code=3)
segments(
  x[7],     y[8],
  x[7]-0.3, y[8]+0.9, length=0.05)
text(
  x[7]-0.3, y[8]+0.9, 
  "mar[3]=4.2 lines \nmai[3]=0.82 inches ", adj=1, cex=1.0)

arrows(
  x[1], y[7],
  x[3], y[7], length=0.05, code=3)
segments(
  x[2], y[7],
  x[2]-0.6, y[7]+1.8)
text(
  x[2]-0.6, y[7]+1.8,
  "mar[2]=4.2 lines \nmai[2]=0.82 inches ", adj=1, cex=1.0)

arrows(
  x[7],     y[3],
  x[9],     y[3], length=0.05, code=3)
segments(
  x[8],     y[3],
  x[8]-0.5, y[3]-1.5)
text(
  x[8]-0.5, y[3]-1.5,
  "mar[4]=2.1 lines \nmai[4]=0.42 inches ", adj=1, cex=1.0)

polygon(
  x=x[c(1, 9, 9, 1)],
  y=y[c(1, 1, 9, 9)],
  lty="dashed")
```
